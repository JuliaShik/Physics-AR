# –î–∏–ø–ª–æ–º–Ω–∞—è —Ä–∞–±–æ—Ç–∞: AR-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ö–∞–∫ —ç—Ç–æ –±—ã–ª–æ
–ö–∞–∫ —ç—Ç–æ –±—ã–≤–∞–µ—Ç, —Å –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É—á–µ–±–Ω–æ–≥–æ –≥–æ–¥–∞ –ø—Ä–∏—à–ª–∞ –ø–æ—Ä–∞ –≤—ã–±–∏—Ä–∞—Ç—å —Ç–µ–º—É –¥–∏–ø–ª–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã. –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å, –ø–æ –∫–æ—Ç–æ—Ä–æ–π —è —É—á–∏–ª–∞—Å—å - –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ –∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞, –∞ —Ä–∞–±–æ—Ç–∞–ª–∞ —è –≤ —ç—Ç–æ –≤—Ä–µ–º—è frontend-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –∏ –¥–µ–ª–∞–ª–∞ —Å–∞–π—Ç—ã. –ö–∞–∑–∞–ª–æ—Å—å, –≤—ã–±–æ—Ä —Ç–µ–º—ã –æ—á–µ–≤–∏–¥–µ–Ω, —ç—Ç–æ –±—É–¥–µ—Ç —á—Ç–æ-—Ç–æ –∏–∑ –≤–µ–±–∞, –Ω–æ –Ω–µ—Ç! –¢–µ–º–æ–π –º–æ–µ–≥–æ –¥–∏–ø–ª–æ–º–∞ —Å—Ç–∞–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –º–æ–±–∏–ª—å–Ω–æ–≥–æ AR –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏–±–æ –æ—á–µ–Ω—å —É–∂ –º–Ω–µ —Ö–æ—Ç–µ–ª–æ—Å—å –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–¥–µ–ª–∞—Ç—å –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω—É—é —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å üëª

–ò –≤–æ—Ç —á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å:


## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
**_–¢–µ–º–∞:_** –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ AR –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —à–∫–æ–ª—å–Ω–æ–≥–æ –∫—É—Ä—Å–∞ —Ñ–∏–∑–∏–∫–∏

**_–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:_** [Unity](https://unity.com/ru), [AR Foundation](https://unity.com/ru/unity/features/arfoundation), [ARKit](https://developer.apple.com/documentation/arkit), [ARCore](https://developers.google.com/ar), C#

![Alt Text](20200623_110406_001.gif)

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ä–∞–∑–¥–µ–ª —Ñ–∏–∑–∏–∫–∏, –∏–∑—É—á–∞–µ—Ç —Ç–µ–æ—Ä–∏—é –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ 3d-—Å—Ü–µ–Ω–µ. –î–∞–ª–µ–µ –Ω—É–∂–Ω–æ –Ω–∞–≤–µ—Å—Ç–∏ –∫–∞–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–∞ –º–∞—Ä–∫–µ—Ä–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É—é –ø–ª–æ—Å–∫–æ—Å—Ç—å. –ê–ª–≥–æ—Ä–∏—Ç–º—ã –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ü–µ–ª—å. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–∞—Å–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω–∞ –∏ –í–ê–£! –ú–ê–ì–ò–Ø ‚ú®‚ú®‚ú® –ö —Ç–æ—á–∫–µ –∫–∞—Å–∞–Ω–∏—è –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è 3d-–æ–±—ä–µ–∫—Ç—ã, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Ç–æ–∂–µ –º–æ–∂–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏.

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ù–∞—á–∞–ª–æ

–ü–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ Unity Hub –∏ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –º–æ–¥—É–ª–∏, –æ—Ç–≤–µ—á–∞—é—â–∏–µ –∑–∞ —Å–±–æ—Ä–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–¥ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö, –≤ –º–æ–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ Android SDK & NDK Tools, Open JDK. –î–∞–ª–µ–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –≤ –ø—Ä–æ–µ–∫—Ç ARFoundation –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –µ–µ —Ä–∞–±–æ—Ç—ã ARKit XR Plugin –∏ ARCore XR Plugin. –ì–æ—Ç–æ–≤–æ!

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ AR

–ü–æ—Å–ª–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ 3d-–º–æ–¥–µ–ª–µ–π, –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø—Ä–∏—à–ª–∞ –ø–æ—Ä–∞ –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç AR.
–ë–∞–∑–æ–≤–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è AR-—Å—Ü–µ–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ ARSession –∏ ARSessionOrigin/AR Camera. –¶–µ–ª—å ARSessionOrigin —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ–±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã (—Ç–∞–∫–∏–µ –∫–∞–∫ –ø–ª–æ—Å–∫–∏–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ —Ç–æ—á–∫–∏) –≤ –∏—Ö –∫–æ–Ω–µ—á–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ, –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é –∏ –º–∞—Å—à—Ç–∞–± –≤ —Å—Ü–µ–Ω–µ Unity. –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–ø–∏—Å–∞–Ω–∞ –≤ –∫–ª–∞—Å—Å–µ ARTapToPlaceObj. –ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ ARRaycastManager —Ç.–µ. –∫–æ–≥–¥–∞ —Ü–µ–ª—å –Ω–∞–π–¥–µ–Ω–∞, —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ TryGetTouchPosition, –∫–∞–∂–¥—ã–π —Ñ—Ä–µ–π–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ –∫–∞—Å–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —ç–∫—Ä–∞–Ω–∞. –ö–∞–∫ —Ç–æ–ª—å–∫–æ —ç—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –≤ –≤–µ–∫—Ç–æ—Ä touchPosition –±—É–¥—É—Ç –∑–∞–ø–∏—Å–∞–Ω—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞—Å–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Ç–æ–º –±—É–¥—É—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω—ã –≤ –Ω–∞–±–æ—Ä —Ç–æ—á–µ–∫ hitPose, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –∏ —Ä–æ—Ç–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

```c#
public class ARTapToPlaceObj : MonoBehaviour
{
    public GameObject gameObjectToInstantiate;
    private GameObject spawnedObject;
    private ARRaycastManager _arRaycastManager;
    private Vector2 touchPosition;
    static List<ARRaycastHit> hits = new List<ARRaycastHit>();

    private void Awake()
    {
        _arRaycastManager = GetComponent<ARRaycastManager>();
    }

    bool TryGetTouchPosition(out Vector2 touchPosition)
    {
        if(Input.touchCount > 0)
        {
            touchPosition = Input.GetTouch(0).position;
            return true;
        }

        touchPosition = default;
        return false;
    }

    void Update()
    {
        if(!TryGetTouchPosition(out Vector2 touchPosition))
            return;

        if(_arRaycastManager.Raycast(touchPosition, hits, TrackableType.PlaneWithinPolygon))
        {
            var hitPose = hits[0].pose;

            if(spawnedObject == null)
            {
                spawnedObject = Instantiate(gameObjectToInstantiate, hitPose.position, hitPose.rotation);
            }
        }
    }
}

```
## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å AR-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—ã–ª–æ –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ. –ü–æ–∫–∞ —á—Ç–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ç–æ–ª—å–∫–æ —á–µ—Ç—ã—Ä–µ —Å—Ü–µ–Ω—ã —Å –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é. –í –ø–ª–∞–Ω–∞—Ö –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç –±–æ–ª—å—à–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É IOS.

–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–Ω–∏–º–∞–Ω–∏–µ!

